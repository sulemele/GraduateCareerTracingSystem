@page
@model LoginModel

@{
    ViewData["Title"] = "Welcome Back";
}

<div class="login-container">
    <div class="login-wrapper">
        <!-- Left Panel with Branding -->
        <div class="login-left-panel">
            <div class="brand-section">
                <div class="logo-container">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                    </svg>
                </div>
                <h1 class="brand-title">Secure Portal</h1>
                <p class="brand-subtitle">Access your account securely</p>
            </div>

            <div class="features-list">
                <div class="feature-item">
                    <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                    <div>
                        <h4>Secure Authentication</h4>
                        <p>Enterprise-grade security for your data</p>
                    </div>
                </div>
                <div class="feature-item">
                    <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                    <div>
                        <h4>Lightning Fast</h4>
                        <p>Quick access to your workspace</p>
                    </div>
                </div>
                <div class="feature-item">
                    <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                    </svg>
                    <div>
                        <h4>Single Sign-On</h4>
                        <p>Connect with external services</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel with Login Form -->
        <div class="login-right-panel">
            <div class="login-card">
                <div class="login-header">
                    <h2>Sign In to Your Account</h2>
                    <p class="text-muted">Enter your credentials to continue</p>
                </div>

                <!-- External Logins Section -->
                @if ((Model.ExternalLogins?.Count ?? 0) > 0)
                {
                    <div class="external-logins">
                        <div class="external-logins-header">
                            <span>Continue with</span>
                        </div>
                        <form id="external-account" asp-page="./ExternalLogin" asp-route-returnUrl="@Model.ReturnUrl" method="post">
                            <div class="external-providers">
                                @foreach (var provider in Model.ExternalLogins!)
                                {
                                    <button type="submit" class="external-provider-btn" name="provider" value="@provider.Name" title="Log in using your @provider.DisplayName account">
                                        <span class="provider-text">@provider.DisplayName</span>
                                    </button>
                                }
                            </div>
                        </form>
                        <div class="divider">
                            <span>or</span>
                        </div>
                    </div>
                }

                <!-- Login Form -->
                <form id="account" method="post" class="login-form">
                    <div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert"></div>

                    <div class="form-group">
                        <label asp-for="Input.Email" class="form-label">Email Address</label>
                        <div class="input-with-icon">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <input asp-for="Input.Email" class="form-control" autocomplete="username" aria-required="true" placeholder="name@example.com" />
                        </div>
                        <span asp-validation-for="Input.Email" class="validation-error"></span>
                    </div>

                    <div class="form-group">
                        
                        <div class="input-with-icon">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                            </svg>
                            <input asp-for="Input.Password" class="form-control" autocomplete="current-password" aria-required="true" placeholder="Enter your password" />
                        </div>
                        <span asp-validation-for="Input.Password" class="validation-error"></span>
                    </div>

                    <div class="remember-me">
                        <label class="checkbox-container">
                            <input class="form-check-input" asp-for="Input.RememberMe" />
                            <span class="checkmark"></span>
                            <span class="checkbox-label">@Html.DisplayNameFor(m => m.Input.RememberMe)</span>
                        </label>
                    </div>

                    <button id="login-submit" type="submit" class="login-button">
                        <span class="button-text">Sign In</span>
                        <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 7l5 5-5 5M6 12h12" />
                        </svg>
                    </button>
                </form>

                <!-- Registration Links -->
                <div class="registration-links">
                    <p class="register-text">
                        Don't have an account?
                        <a asp-page="./Register" asp-route-returnUrl="@Model.ReturnUrl" class="register-link">Sign up now</a>
                    </p>
                    
                </div>
            </div>

            
        </div>
    </div>
</div>

<style>
    :root {
        --primary-color: #6366f1;
        --primary-dark: #4f46e5;
        --primary-light: #818cf8;
        --background-light: #f8fafc;
        --text-primary: #1e293b;
        --text-secondary: #64748b;
        --border-color: #e2e8f0;
        --error-color: #ef4444;
        --success-color: #10b981;
        --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    
    .login-container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
    }

    .login-wrapper {
        display: flex;
        background: white;
        border-radius: 24px;
        overflow: hidden;
        box-shadow: var(--shadow);
        min-height: 700px;
    }

    .login-left-panel {
        flex: 1;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 60px 48px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .brand-section {
        text-align: center;
    }

    .logo-container {
        width: 80px;
        height: 80px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 24px;
        backdrop-filter: blur(10px);
    }

    .logo-icon {
        width: 40px;
        height: 40px;
        stroke-width: 1.5;
    }

    .brand-title {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 8px;
        letter-spacing: -0.5px;
    }

    .brand-subtitle {
        font-size: 16px;
        opacity: 0.9;
        font-weight: 400;
    }

    .features-list {
        margin-top: 60px;
    }

    .feature-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 32px;
        gap: 16px;
    }

    .feature-icon {
        width: 24px;
        height: 24px;
        flex-shrink: 0;
        margin-top: 4px;
        stroke-width: 1.5;
    }

    .feature-item h4 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 4px;
    }

    .feature-item p {
        font-size: 14px;
        opacity: 0.8;
        line-height: 1.5;
    }

    .login-right-panel {
        flex: 1.2;
        padding: 60px 48px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        background: var(--background-light);
    }

    .login-card {
        max-width: 440px;
        margin: 0 auto;
        width: 100%;
    }

    .login-header {
        text-align: center;
        margin-bottom: 40px;
    }

        .login-header h2 {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .login-header .text-muted {
            color: var(--text-secondary);
            font-size: 15px;
        }

    .external-logins {
        margin-bottom: 32px;
    }

    .external-logins-header {
        text-align: center;
        margin-bottom: 16px;
        color: var(--text-secondary);
        font-size: 14px;
        position: relative;
    }

        .external-logins-header span {
            background: var(--background-light);
            padding: 0 12px;
        }

        .external-logins-header::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--border-color);
            z-index: -1;
        }

    .external-providers {
        display: flex;
        gap: 12px;
        margin-bottom: 24px;
    }

    .external-provider-btn {
        flex: 1;
        padding: 14px 20px;
        border: 2px solid var(--border-color);
        background: white;
        border-radius: 12px;
        font-weight: 500;
        color: var(--text-primary);
        cursor: pointer;
        transition: var(--transition);
        font-size: 14px;
    }

        .external-provider-btn:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.1);
        }

    .divider {
        text-align: center;
        position: relative;
        margin: 24px 0;
        color: var(--text-secondary);
        font-size: 14px;
    }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--border-color);
            z-index: -1;
        }

        .divider span {
            background: var(--background-light);
            padding: 0 16px;
        }

    .login-form {
        margin-bottom: 32px;
    }

    .form-group {
        margin-bottom: 24px;
    }

    .form-label {
        display: block;
        font-size: 14px;
        font-weight: 500;
        color: var(--text-primary);
        margin-bottom: 8px;
    }

    .form-label-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
    }

    .input-with-icon {
        position: relative;
    }

    .input-icon {
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        color: var(--text-secondary);
        pointer-events: none;
    }

    .form-control {
        width: 100%;
        padding: 16px 16px 16px 48px;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        font-size: 15px;
        transition: var(--transition);
        background: white;
    }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-control::placeholder {
            color: #94a3b8;
        }

    .validation-error {
        display: block;
        margin-top: 6px;
        font-size: 13px;
        color: var(--error-color);
    }

    .forgot-link {
        font-size: 13px;
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
        transition: var(--transition);
    }

        .forgot-link:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

    .remember-me {
        margin: 24px 0;
    }

    .checkbox-container {
        display: flex;
        align-items: center;
        cursor: pointer;
        font-size: 14px;
        color: var(--text-primary);
        gap: 10px;
    }

        .checkbox-container input {
            display: none;
        }

    .checkmark {
        width: 20px;
        height: 20px;
        border: 2px solid var(--border-color);
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var(--transition);
    }

    .checkbox-container input:checked ~ .checkmark {
        background: var(--primary-color);
        border-color: var(--primary-color);
    }

    .checkmark::after {
        content: '';
        width: 5px;
        height: 10px;
        border: solid white;
        border-width: 0 2px 2px 0;
        transform: rotate(45deg) translate(-1px, -1px);
        opacity: 0;
        transition: var(--transition);
    }

    .checkbox-container input:checked ~ .checkmark::after {
        opacity: 1;
    }

    .login-button {
        width: 100%;
        padding: 18px 24px;
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        margin-top: 8px;
    }

        .login-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
        }

        .login-button:active {
            transform: translateY(0);
        }

    .button-icon {
        width: 20px;
        height: 20px;
    }

    .registration-links {
        text-align: center;
        margin-top: 32px;
    }

    .register-text {
        color: var(--text-secondary);
        font-size: 15px;
        margin-bottom: 12px;
    }

    .register-link {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 600;
        transition: var(--transition);
    }

        .register-link:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

    .resend-link {
        display: block;
        color: var(--text-secondary);
        text-decoration: none;
        font-size: 14px;
        transition: var(--transition);
    }

        .resend-link:hover {
            color: var(--primary-color);
        }

    .login-footer {
        margin-top: 60px;
        text-align: center;
        color: var(--text-secondary);
        font-size: 13px;
    }

        .login-footer p {
            margin-bottom: 12px;
        }

    .footer-links {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 12px;
    }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
        }

            .footer-links a:hover {
                color: var(--primary-color);
            }

    .separator {
        color: var(--border-color);
    }

    .alert {
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 24px;
        font-size: 14px;
    }

    .alert-danger {
        background-color: #fee;
        border: 1px solid #fcc;
        color: #c00;
    }

    /* Responsive Design */
    @@media (max-width: 1024px) {
        .login-wrapper

    {
        flex-direction: column;
        max-width: 500px;
        margin: 0 auto;
    }

    .login-left-panel {
        padding: 40px 32px;
    }

    .login-right-panel {
        padding: 40px 32px;
    }

    .features-list {
        display: none;
    }

    }

    @@media (max-width: 480px) {
        body

    {
        padding: 16px;
    }

    .login-wrapper {
        border-radius: 16px;
    }

    .login-left-panel,
    .login-right-panel {
        padding: 32px 24px;
    }

    .brand-title {
        font-size: 24px;
    }

    .login-header h2 {
        font-size: 24px;
    }

    .external-providers {
        flex-direction: column;
    }

    .login-button {
        padding: 16px 20px;
    }

    }
</style>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}